{% extends 'base.html' %}

{% load static %}

{% block titulo %}
    <title> Lista de Demandas </title>

{% endblock %}

<!-- ADICIONAR BOTÕES DE EDITAR/EXCLUIR E ATRIBUIR AO DEV -->

{% block conteudo %}
    <div>
        <h3> Lista de todas as Demandas </h3>
        <table class="tabela-listar-demandas">
            <thead>
                <tr>
                    <th> Título </th>
                    <th> Prioridade </th>
                    <th> Status </th>
                    <th> Prazo </th>
                    <th> Ações </th>
                </tr>
            </thead>
            <tbody>
                {% for demanda in object_list %}
                    <tr>
                        <td><a href="{{ demanda.get_absolute_url }}" class="list-link">{{ demanda.tituloDemanda }}</a></td>
                        <td> {{ demanda.prioridade }} </td>
                        <td> {{ demanda.status }} </td>
                        <td> {{ demanda.prazo }} </td>
                        <td>
                            <a href="{% url 'editar-demanda' pk=demanda.pk %}" class="btn btn-warning"> Editar </a>
                            <a href="{% url 'demanda-excluir' pk=demanda.pk %}" class="btn btn-danger" onclick="return confirmDelete()"> Excluir </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div> 
        <button class="btn-padrao btnVoltar" value="voltar" onclick="history.go(-1)"> Voltar </button>
    </div>
    

<!--     <script>
        function confirmDelete() {
            return confirm('Deseja realmente excluir esta demanda?');
        }
    </script> -->
    
{% endblock %}

